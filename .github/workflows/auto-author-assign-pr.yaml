# Automatically assign the authors to a PR
name: Auto Author Assign Pull Request

on:
  pull_request_target:
    types:
      - opened
      - reopened

permissions:
  pull-requests: write

# We use this workflow as a required workflow for other repositories in the org
# We want it to run for each repository that it was set as required,
# but we don't want to block PRs if it doesn't run or if it fails
jobs:
  assign_author:
    runs-on: ubuntu-latest
    steps:
      - name: Automatically assign PR author
        uses: toshimaru/auto-author-assign@v1.6.2
      - name: Check if the assignment was skipped
        if: ${{ needs.assign_author.result == "skipped" }}
        run: echo "Assignment Skipped"
      - name: Check if the assignment failed
        if: ${{ failure() }}
        run: echo "Assignment Failed"

